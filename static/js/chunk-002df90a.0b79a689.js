(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-002df90a"],{"09f4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,n,i){return t/=i/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t,e){e?document.querySelector(e).scrollTop=t:(document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t)}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,n,r){var l=a(),d=t-l,c=20,s=0;e="undefined"===typeof e?500:e;var u=function t(){s+=c;var a=Math.easeInOutQuad(s,l,d,e);o(a,n),s<e?i(t):r&&"function"===typeof r&&r()};u()}},"15fd":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("b64b");function i(t,e){if(null==t)return{};var n,i,o={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}function o(t,e){if(null==t)return{};var n,o,a=i(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},3123:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("b775");function o(){return i["a"].get("/token")}},6224:function(t,e,n){},"72bc":function(t,e,n){"use strict";var i=n("d4ec"),o=n("bee2"),a=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b0c0"),n("ac1f"),n("1276"),n("b680"),function(){function t(e,n){return Object(i["a"])(this,t),this.video=document.createElement("video"),this.video.preload="metadata",this.video.src=URL.createObjectURL(e),this.init(e,n)}return Object(o["a"])(t,[{key:"init",value:function(t,e){var n=this;return new Promise((function(i){var o=n.fileLengthFormat(t.size,e),a=n.getFileType(t.name);"mp4"===a?n.video.onloadedmetadata=function(){window.URL.revokeObjectURL(n.video.src);var t=n.video.duration;i({fileSize:o,duration:t,type:a,height:n.video.videoHeight,width:n.video.videoWidth})}:i({fileSize:o,duration:0,type:a,height:n.video.videoHeight,width:n.video.videoWidth})}))}},{key:"getFileType",value:function(t){var e=t.split("."),n="";return void 0!==e&&(e.length<=1&&t.indexOf("=")>-1?(console.log("输入是文件地址：",e),!1):(n=e[e.length-1],n=n.toLowerCase(),n))}},{key:"fileLengthFormat",value:function(t,e){var n,i=t/1024;if(i>1e3)return this.fileLengthFormat(i,++e);switch(e){case 1:n=i.toFixed(2);break;case 2:n=i.toFixed(2);break;case 3:n=i.toFixed(2);break;case 4:n=i.toFixed(2);break}return+n}}]),t}());e["a"]=a},be23:function(t,e,n){"use strict";n("6224")},d422:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{attrs:{inline:!0}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.onAddOrUpdate()}}},[t._v(" "+t._s(t.$t("table.add"))+" ")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.list}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),n("el-table-column",{attrs:{"header-align":"center",prop:"title",label:"标题"}}),n("el-table-column",{attrs:{align:"center",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.onContent(i)}}},[t._v("点击查看")])]}}])}),n("el-table-column",{attrs:{align:"center",width:"80",prop:"sort",label:"排序"}}),n("el-table-column",{attrs:{prop:"created_at",label:"时间",width:"170","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("div",[t._v("创建："+t._s(i.created_at))]),n("div",[t._v("更新："+t._s(i.updated_at))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onAddOrUpdate(i)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.onDelete(i)}}},[t._v("删除")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pages.total>0,expression:"pages.total > 0"}],attrs:{total:t.pages.total,page:t.pages.current,limit:t.pages.limit},on:{"update:page":function(e){return t.$set(t.pages,"current",e)},"update:limit":function(e){return t.$set(t.pages,"limit",e)},pagination:function(e){return t.getList()}}}),t.addOrUpdateVisible?n("add-or-update",{ref:"addOrUpdate",attrs:{"add-or-update-visible":t.addOrUpdateVisible},on:{"update:addOrUpdateVisible":function(e){t.addOrUpdateVisible=e},"update:add-or-update-visible":function(e){t.addOrUpdateVisible=e},refreshList:function(e){return t.getList()}}}):t._e(),n("el-dialog",{attrs:{title:t.form.title,width:"800px","append-to-body":"",visible:t.editTinymceVisible},on:{"update:visible":function(e){t.editTinymceVisible=e}}},[n("div",{staticClass:"dialog-img",domProps:{innerHTML:t._s(t.form.content)}})])],1)},o=[],a=n("5530"),r=(n("d3b7"),n("15fd")),l=n("b775"),d=["id"];function c(t){return l["a"].get("/helps",{params:t})}function s(t){var e=t.id,n=Object(r["a"])(t,d),i="POST",o="/helps";return e>0&&(i="PUT",o+="/".concat(e),n.id=e),Object(l["a"])({url:o,method:i,data:n})}function u(t){return l["a"].delete("/helps/".concat(t))}var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{width:"900px",top:"30px",title:t.form.id?t.$t("table.edit"):t.$t("table.add"),visible:t.addOrUpdateVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.handleBeforeClose},on:{"update:visible":function(e){t.addOrUpdateVisible=e},closed:function(e){return t.onClose()}}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"排序"}},[n("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入",min:0},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),n("el-form-item",{attrs:{label:"内容"}},[n("tinymce",{ref:"tinymce",attrs:{height:400},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.onFormSubmit()}}},[t._v(" "+t._s(t.$t("table.confirm"))+" ")]),n("el-button",{on:{click:function(e){return t.handleBeforeClose()}}},[t._v(" "+t._s(t.$t("table.cancel"))+" ")])],1)],1)],1)},p=[],m=n("8256"),b={name:"AddOrUpdate",components:{Tinymce:m["a"]},props:{addOrUpdateVisible:{type:Boolean,default:!1}},data:function(){return{btnLoading:!1,form:{id:0,title:"",sort:0,content:""}}},methods:{init:function(t){t&&(this.form=Object(a["a"])({},t))},onFormSubmit:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.btnLoading=!0,s(t.form).then((function(e){var n=e.msg;t.$message.success(n),t.handleBeforeClose(),t.$emit("refreshList")})).catch((function(){t.btnLoading=!1})))}))},onClose:function(){this.$reset()},handleBeforeClose:function(){this.$emit("update:addOrUpdateVisible",!1)}}},h=b,v=(n("be23"),n("2877")),g=Object(v["a"])(h,f,p,!1,null,"3e29a81d",null),y=g.exports,O=n("333d"),w={name:"Helps",components:{Pagination:O["a"],AddOrUpdate:y},data:function(){return{list:[],pages:{total:0,limit:20,current:1},form:{title:"",content:""},addOrUpdateVisible:!1,editTinymceVisible:!1,loading:!1}},created:function(){this.init()},methods:{init:function(){this.getList()},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pages.current,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.loading||(this.loading=n,1===e&&(this.pages.current=e),c({page:e,limit:this.pages.limit}).then((function(e){t.list=e.data.data,t.pages.total=e.data.total})).catch((function(){})).finally((function(){t.loading=!1})))},onAddOrUpdate:function(t){var e=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){e.$refs.addOrUpdate&&e.$refs.addOrUpdate.init(t)}))},onDelete:function(t){var e=this;this.$confirm("确定对[(#".concat(t.id,")]进行[删除]操作?"),"删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",cancelButtonClass:"btn-custom-cancel"}).then((function(){u(t.id).then((function(t){var n=t.msg,i=void 0===n?"删除成功":n;e.$message.success(i),e.getList()})).catch((function(){e.$message.error("删除失败")}))})).catch((function(){}))},onContent:function(t){this.form=Object(a["a"])({},t),this.editTinymceVisible=!0}}},k=w,_=Object(v["a"])(k,i,o,!1,null,"ba3c8ba0",null);e["default"]=_.exports}}]);