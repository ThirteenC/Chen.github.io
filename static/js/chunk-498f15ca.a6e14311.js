(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-498f15ca"],{"09f4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),Math.easeInOutQuad=function(t,e,n,a){return t/=a/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t,e){e?document.querySelector(e).scrollTop=t:(document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t)}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(t,e,n,i){var l=o(),c=t-l,s=20,u=0;e="undefined"===typeof e?500:e;var d=function t(){u+=s;var o=Math.easeInOutQuad(u,l,c,e);r(o,n),u<e?a(t):i&&"function"===typeof i&&i()};d()}},"11fe":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{attrs:{inline:!0,model:t.search}},[t._e(),t._e(),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.onAddOrUpdate()}}},[t._v(" "+t._s(t.$t("table.add"))+" ")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"","highlight-current-row":"",data:t.list}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),n("el-table-column",{attrs:{prop:"type",label:"类型",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row.type;return[n("el-tag",{attrs:{type:"replace"===a?"success":"warning"}},[t._v(" "+t._s("replace"===a?"替换":"提示")+" ")])]}}])}),n("el-table-column",{attrs:{prop:"word",label:"敏感词",align:"center"}}),n("el-table-column",{attrs:{prop:"replace",label:"替换内容",align:"center"}}),n("el-table-column",{attrs:{prop:"created_at",label:"时间",width:"170","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",[t._v("创建："+t._s(a.created_at))]),n("div",[t._v("更新："+t._s(a.updated_at))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onAddOrUpdate(a)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.onDelete(a)}}},[t._v("删除")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.pages.total>0,expression:"pages.total > 0"}],attrs:{total:t.pages.total,page:t.pages.current,limit:t.pages.limit},on:{"update:page":function(e){return t.$set(t.pages,"current",e)},"update:limit":function(e){return t.$set(t.pages,"limit",e)},pagination:function(e){return t.getList()}}}),t.addOrUpdateVisible?n("add-or-update",{ref:"addOrUpdate",on:{refreshList:function(e){return t.getList()}}}):t._e()],1)},r=[],o=n("5530"),i=(n("d3b7"),n("ac1f"),n("841c"),n("15fd")),l=n("b775"),c=["id"];function s(t){return l["a"].get("/sensitives",{params:t})}function u(t){var e=t.id,n=Object(i["a"])(t,c),a="POST",r="/sensitives";return e>0&&(a="PUT",r+="/".concat(e),n.id=e),Object(l["a"])({url:r,method:a,data:n})}function d(t){return l["a"].delete("/sensitives/".concat(t))}var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.form.id?t.$t("table.edit"):t.$t("table.add"),visible:t.visible},on:{"update:visible":function(e){t.visible=e},closed:function(e){return t.onClose()}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择类型",clearable:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.typeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"敏感词",prop:"word"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入敏感词",clearable:""},model:{value:t.form.word,callback:function(e){t.$set(t.form,"word",e)},expression:"form.word"}})],1),"replace"===t.form.type?n("el-form-item",{attrs:{label:"替换内容",prop:"replace"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入替换内容",clearable:""},model:{value:t.form.replace,callback:function(e){t.$set(t.form,"replace",e)},expression:"form.replace"}}),n("div",{staticClass:"notice"},[t._v(" 注意：检测到的敏感词内容，由替换内容填充 ")])],1):t._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.onFormSubmit()}}},[t._v(" "+t._s(t.$t("table.confirm"))+" ")]),n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(" "+t._s(t.$t("table.cancel"))+" ")])],1)],1)},p=[],m={name:"AddOrUpdate",data:function(){return{visible:!1,btnLoading:!1,form:{id:0,type:"replace",word:"",replace:""},typeOptions:[{label:"替换",value:"replace"},{label:"提示",value:"warning"}],rules:{type:[{required:!0,message:"请输入敏感词",trigger:["blur","change"]}],word:[{required:!0,message:"请输入替换内容",trigger:["blur","change"]}]}}},methods:{init:function(t){this.visible=!0,t&&(this.form=Object.assign({},t))},onFormSubmit:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.btnLoading=!0,u(t.form).then((function(e){var n=e.msg;t.$message.success(n),t.visible=!1,t.$emit("refreshList")})).catch((function(){t.btnLoading=!1})))}))},onClose:function(){this.btnLoading=!1,this.$reset()}}},b=m,g=(n("3596"),n("2877")),v=Object(g["a"])(b,f,p,!1,null,"53a7ff18",null),h=v.exports,y=n("333d"),w={name:"Sensitive",components:{Pagination:y["a"],AddOrUpdate:h},data:function(){return{list:[],search:{name:""},pages:{total:0,limit:20,current:1},addOrUpdateVisible:!1,loading:!1}},created:function(){this.init()},methods:{init:function(){this.getList()},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pages.current,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.loading||(this.loading=n,1===e&&(this.pages.current=e),s(Object(o["a"])(Object(o["a"])({page:e},this.search),{},{limit:this.pages.limit})).then((function(e){0===e.code&&(t.list=e.data.data,t.pages.total=e.data.total)})).catch((function(){})).finally((function(){t.loading=!1})))},onAddOrUpdate:function(t){var e=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){e.$refs.addOrUpdate&&e.$refs.addOrUpdate.init(t)}))},onDelete:function(t){var e=this;this.$confirm("确定对[(#".concat(t.id,")]进行[删除]操作?"),"删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",cancelButtonClass:"btn-custom-cancel"}).then((function(){d(t.id).then((function(t){var n=t.msg,a=void 0===n?"删除成功":n;e.$message.success(a),e.getList()})).catch((function(){e.$message.error("删除失败")}))})).catch((function(){}))}}},O=w,_=(n("6d25"),Object(g["a"])(O,a,r,!1,null,"ea92083a",null));e["default"]=_.exports},"15fd":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("b64b");function a(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}function r(t,e){if(null==t)return{};var n,r,o=a(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},"2f27":function(t,e,n){},3596:function(t,e,n){"use strict";n("9f97")},"6d25":function(t,e,n){"use strict";n("2f27")},"9f97":function(t,e,n){}}]);