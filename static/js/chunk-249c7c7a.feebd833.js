(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-249c7c7a"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e,t){t?document.querySelector(t).scrollTop=e:(document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e)}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(e,t,a,i){var o=r(),s=e-o,c=20,u=0;t="undefined"===typeof t?500:t;var d=function e(){u+=c;var r=Math.easeInOutQuad(u,o,s,t);l(r,a),u<t?n(e):i&&"function"===typeof i&&i()};d()}},3800:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"g",(function(){return l})),a.d(t,"j",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"l",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"k",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"i",(function(){return v}));var n=[{label:"全部",value:""}],l=[{label:"全部",value:""},{label:"微信",value:"wxpay"},{label:"京东",value:"jdpay"},{label:"支付宝",value:"alipay"},{label:"银行卡",value:"bank"}],r=[{label:"全部",value:""},{label:"上架",value:0},{label:"下架",value:1}],i=[{label:"全部",value:""},{label:"通过",value:1,type:"success"},{label:"失败",value:2,type:"danger"}],o=[{label:"全部",value:""},{label:"否",value:0},{label:"是",value:1}],s=[{label:"一次性",value:"once",type:"warning"},{label:"长期",value:"long",type:"success"},{label:"指定藏品",value:"appoint",type:"primary"}],c=[{label:"全部",value:""},{label:"常规藏品",value:0,type:"primary"},{label:"盲盒藏品",value:1,type:"warning"},{label:"空投藏品",value:2,type:"primary"},{label:"合成藏品",value:3,type:"success"},{label:"资格券",value:5,type:"danger"},{label:"活动藏品",value:7,type:"danger"}],u=[{label:"全部",value:""},{label:"藏品订单",value:"goods",type:"primary"},{label:"盲盒订单",value:"box",type:"warning"}],d=[{label:"全部",value:""},{label:"待付款",value:0,type:"warning"},{label:"待发放",value:1,type:"primary"},{label:"已完成",value:2,type:"success"},{label:"已关闭",value:3,type:"info"},{label:"异常订单",value:4,type:"danger"}],p=[{label:"普通",value:0,type:"info"},{label:"3D",value:1,type:"primary"},{label:"视频",value:2,type:"warning"}],f=[{label:"指定藏品",value:"goods",type:"primary"},{label:"指定专区",value:"issuer",type:"warning"}],v={shortcuts:[{text:"最近24小时",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}},b599:function(e,t,a){},c349:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{attrs:{placeholder:"昵称",clearable:""},on:{clear:function(t){return e.getList(1)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.search.user_name,callback:function(t){e.$set(e.search,"user_name",t)},expression:"search.user_name"}})],1),a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{placeholder:"手机号",clearable:""},on:{clear:function(t){return e.getList(1)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.search.account,callback:function(t){e.$set(e.search,"account",t)},expression:"search.account"}})],1),a("el-form-item",{attrs:{label:"认证姓名"}},[a("el-input",{attrs:{placeholder:"认证姓名",clearable:""},on:{clear:function(t){return e.getList(1)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.search.cer_name,callback:function(t){e.$set(e.search,"cer_name",t)},expression:"search.cer_name"}})],1),a("el-form-item",{attrs:{label:"身份证"}},[a("el-input",{attrs:{placeholder:"身份证",clearable:""},on:{clear:function(t){return e.getList(1)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList(1)}},model:{value:e.search.number,callback:function(t){e.$set(e.search,"number",t)},expression:"search.number"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{on:{change:function(t){return e.getList(1)}},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusOptions,(function(t){return a("el-badge",{key:t.value,staticClass:"badge-item"},[a("el-radio-button",{attrs:{label:t.value}},[e._v(e._s(t.label))])],1)})),1)],1),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}}},[e._v(" "+e._s(e.$t("table.search"))+" ")]),a("el-button",{attrs:{loading:e.downloadLoading,type:"success",icon:"el-icon-document"},on:{click:e.onHandleDownload}},[e._v(" "+e._s(e.$t("table.export"))+" Excel ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"","highlight-current-row":"",data:e.list}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"用户信息","min-width":"200","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.user?a("div",[a("el-avatar",{attrs:{icon:"el-icon-user-solid",src:n.user.avatar&&e.domin+n.user.avatar}}),a("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[a("div",[e._v(" "+e._s(n.user.name)+" ")]),a("div",[e._v(" "+e._s(n.user.phone||n.user.email)+" ")])])],1):a("div",[e._v(" 用户已删除 ")])]}}])}),a("el-table-column",{attrs:{label:"认证信息",width:"200","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,l=n.name,r=n.number,i=n.phone;return[a("div",[e._v("姓名："+e._s(l))]),a("div",[e._v("身份证："+e._s(r))]),a("div",[e._v("手机号："+e._s(i))])]}}])}),a("el-table-column",{attrs:{label:"认证结果","min-width":"200","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row.result;return[n&&n.data?a("div",[a("div",[e._v("地域："+e._s(n.data.province))]),a("div",[e._v("城市："+e._s(n.data.city)+" ")]),a("div",[e._v("运营商："+e._s(n.data.operator)+" ")])]):n&&n.pictureUrl?a("div",[a("el-image",{staticClass:"image-item",attrs:{fit:"cover",src:n.pictureUrl&&e.domainUrl+n.pictureUrl,"preview-src-list":[e.domainUrl+n.pictureUrl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1):a("div",{staticStyle:{"text-align":"center"}},[e._v(" - ")])]}}])}),a("el-table-column",{attrs:{label:"失败原因","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tooltip",{attrs:{"popper-class":"popover-box",effect:"dark",content:n.reason,placement:"top"}},[a("div",{staticClass:"ellipsis"},[e._v(" "+e._s(n.reason||"")+" ")])])]}}])}),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,l=n.status,r=n.admin;return[a("div",2===l?[a("el-tag",{attrs:{slot:"reference",type:e._f("paraphrase")(l,e.statusOptions,"value","type")},slot:"reference"},[e._v(" "+e._s(e._f("paraphrase")(l,e.statusOptions))+" "),a("i",{staticClass:"el-icon-info"})])]:[a("el-tag",{attrs:{type:e._f("paraphrase")(l,e.statusOptions,"value","type")}},[e._v(" "+e._s(e._f("paraphrase")(l,e.statusOptions))+" ")])],1),r?a("div",[a("el-popover",{attrs:{placement:"bottom-start","max-width":"300",trigger:"hover"}},[a("div",[a("div",[e._v(" # "+e._s(r.id)+" ")]),a("div",[e._v(" "+e._s(r.name)+" ")])]),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._v(" 审核人"),a("i",{staticClass:"el-icon-question"})])])],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"是否删除",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",{style:"color: "+(n.is_delete?"#ff4949":"")},[e._v(e._s(e._f("paraphrase")(n.is_delete,e.whetherOptions)))])]}}])}),a("el-table-column",{attrs:{label:"时间",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,l=n.created_at,r=n.updated_at;return[a("div",[e._v("创建："+e._s(l))]),a("div",[e._v("审核："+e._s(r))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[[1].includes(n.status)?e._e():a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onPassOrReject(n,1)}}},[e._v("通过")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.pages.total>0,expression:"pages.total > 0"}],attrs:{total:e.pages.total,page:e.pages.current,limit:e.pages.limit},on:{"update:page":function(t){return e.$set(e.pages,"current",t)},"update:limit":function(t){return e.$set(e.pages,"limit",t)},pagination:function(t){return e.getList()}}})],1)},l=[],r=a("5530"),i=(a("d3b7"),a("ac1f"),a("841c"),a("d81d"),a("b0c0"),a("99af"),a("333d")),o=a("b775");function s(e){return o["a"].get("/certifications",{params:e})}function c(e){return o["a"].put("/certifications/".concat(e,"/pass"))}function u(e){return o["a"].get("/certifications/export",{params:e})}var d=a("5f87"),p=a("3800"),f={name:"Certification",components:{Pagination:i["a"]},data:function(){return{domin:Object(d["c"])(d["a"]),whetherOptions:p["l"],list:[],wait_count:0,domainUrl:"https://cn-shanghai-aliyun-cloudauth-1582222736062849.oss-cn-shanghai.aliyuncs.com/",search:{user_name:"",number:"",status:"",account:"",cer_name:""},pages:{total:0,limit:20,current:1},statusOptions:p["b"],tagTypeOptions:["warning","success","danger"],loading:!1,downloadLoading:!1}},created:function(){this.init()},methods:{init:function(){this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pages.current,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.loading||(this.loading=a,1===t&&(this.pages.current=t),s(Object(r["a"])(Object(r["a"])({page:t},this.search),{},{limit:this.pages.limit})).then((function(t){0===t.code&&(e.list=t.data.data.map((function(e){return Object.assign(e,{status:0===e.status?2:e.status})})),e.pages.total=t.data.total)})).catch((function(){})).finally((function(){e.loading=!1})))},onPassOrReject:function(e,t){var a=this,n=e.id,l=e.name,r=e.user,i=1===t?"通过":"驳回",o=1===t?this.$confirm:this.$prompt;o("用户昵称「".concat(null===r||void 0===r?void 0:r.name,"」，用户姓名「").concat(l,"」"),"认证".concat(i),{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"理由不能为空！",type:"".concat(1===t?"success":"error"),inputPlaceholder:"请输入驳回理由",cancelButtonClass:"btn-custom-cancel"}).then((function(e){e.value;var l=c(n);l.then((function(){a.$message.success("".concat(1===t?"已通过":"已驳回","认证")),a.init()})).catch((function(){}))})).catch((function(){}))},onChangeStatus:function(e){this.getList(1)},onHandleDownload:function(){var e=this;this.downloadLoading=!0,u(this.search).then((function(e){location.href="/"+e.data.filename})).catch((function(e){})).finally((function(t){e.downloadLoading=!1}))}}},v=f,m=(a("f118"),a("2877")),b=Object(m["a"])(v,n,l,!1,null,"54771dc9",null);t["default"]=b.exports},f118:function(e,t,a){"use strict";a("b599")}}]);