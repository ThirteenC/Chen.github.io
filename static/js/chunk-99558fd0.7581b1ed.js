(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99558fd0"],{"0370":function(t,e,n){},"35f6":function(t,e,n){},3899:function(t,e,n){"use strict";n("0370")},7627:function(t,e,n){"use strict";n("35f6")},"87e0":function(t,e,n){},"9ed6":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container",attrs:{id:"login-container"}},[n("div",{staticClass:"login-content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step === 0"}],staticClass:"content"},[n("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules,autocomplete:"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[t.logo?n("img",{staticClass:"sidebar-logo",attrs:{src:t.logo}}):t._e(),t._v("火宙管理"+t._s(t.$t("login.title"))+" ")]),t._e()],1),n("el-form-item",{attrs:{prop:"account"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"account",attrs:{placeholder:t.$t("login.username"),name:"account",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),n("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:t.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:[function(e){return t.checkCapslock(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v(" "+t._s(t.$t("login.logIn"))+" ")]),t._e()],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"content"},[n("google-code",{attrs:{"login-form":t.form}})],1)]),n("el-dialog",{attrs:{title:t.$t("login.thirdparty"),visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[t._v(" "+t._s(t.$t("login.thirdpartyTips"))+" "),n("br"),n("br"),n("br"),n("social-sign")],1),t.googleCodeVisible?n("authenticator-dialog",{ref:"googleCode"}):t._e()],1)},s=[],a=(n("d9e2"),n("d3b7"),n("caad"),n("13d5"),n("b64b"),n("61f7")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:t.handleSetLanguage}},[n("div",[n("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:"zh"===t.language,command:"zh"}},[t._v(" 中文 ")]),n("el-dropdown-item",{attrs:{disabled:"en"===t.language,command:"en"}},[t._v(" English ")]),n("el-dropdown-item",{attrs:{disabled:"es"===t.language,command:"es"}},[t._v(" Español ")]),n("el-dropdown-item",{attrs:{disabled:"ja"===t.language,command:"ja"}},[t._v(" 日本語 ")])],1)],1)},r=[],c={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(t){this.$i18n.locale=t,this.$store.dispatch("app/setLanguage",t),this.$message({message:"Switch Language Success",type:"success"})}}},l=c,d=n("2877"),u=Object(d["a"])(l,i,r,!1,null,null,null),p=u.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social-signup-container"},[n("div",{staticClass:"sign-btn",on:{click:function(e){return t.wechatHandleClick("wechat")}}},[n("span",{staticClass:"wx-svg-container"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),t._v(" WeChat ")]),n("div",{staticClass:"sign-btn",on:{click:function(e){return t.tencentHandleClick("tencent")}}},[n("span",{staticClass:"qq-svg-container"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),t._v(" QQ ")])])},f=[],m={name:"SocialSignin",methods:{wechatHandleClick:function(t){alert("ok")},tencentHandleClick:function(t){alert("ok")}}},h=m,v=(n("bfec"),Object(d["a"])(h,g,f,!1,null,"7309fbbb",null)),b=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code-box"},[n("div",{staticClass:"back"},[n("el-page-header",{attrs:{content:"谷歌验证码"},on:{back:t.goBack}}),n("el-divider")],1),n("div",{staticClass:"code-form",attrs:{id:"code-form"}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,size:"medium","label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{label:"谷歌验证码",prop:"code"}},[n("el-input",{attrs:{maxlength:"6",placeholder:"请输入谷歌验证码",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onhandleLogin(e)}},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnLoading},on:{click:t.onhandleLogin}},[t._v("确 定")])],1)],1)],1)])},k=[],C=(n("ac1f"),n("5319"),{name:"Cd",props:{loginForm:{type:Object,default:function(){return{}}}},data:function(){return{btnLoading:!1,form:{code:""},rules:{code:[{required:!0,trigger:["blur","change"],message:"不能为空"}]}}},methods:{goBack:function(){this.$parent.onStep(0),this.$reset()},onhandleLogin:function(){var t=this;this.btnLoading=!0,this.$store.dispatch("user/login",Object.assign(this.loginForm,this.form)).then((function(e){t.$router.replace({path:"/"})})).catch((function(){})).finally((function(){t.btnLoading=!1}))}}}),y=C,$=(n("d359"),Object(d["a"])(y,w,k,!1,null,"2a2602f6",null)),_=$.exports,x=n("2934"),O={name:"Login",components:{LangSelect:p,SocialSign:b,GoogleCode:_},data:function(){var t=function(t,e,n){Object(a["d"])(e)||Object(a["f"])(e)?n():n(new Error("请输入正确的用户名"))},e=function(t,e,n){e.length<6?n(new Error("密码不能少于6位")):n()};return{form:{account:"",password:"",verification_code:""},rules:{account:[{required:!0,trigger:["blur","change"],validator:t}],password:[{required:!0,trigger:["blur","change"],validator:e}],verification_code:[{required:!0,trigger:["blur","change"],message:"不能为空"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},logo:"favicon.png",googleCodeVisible:!1,step:0}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},mounted:function(){""===this.form.account?this.$refs.account.focus():""===this.form.password&&this.$refs.password.focus()},methods:{checkCapslock:function(t){var e=t.key;this.capsTooltip=e&&1===e.length&&e>="A"&&e<="Z"},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.loading=!0,Object(x["b"])(t.form).then((function(e){[1,"1"].includes(e.data.is_bind)?t.step=1:t.onGoogleCode(Object.assign(e.data,t.form))})).finally((function(){t.loading=!1}))}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,n){return"redirect"!==n&&(e[n]=t[n]),e}),{})},onGoogleCode:function(t){var e=this;this.googleCodeVisible=!0,this.$nextTick((function(){e.$refs.googleCode&&e.$refs.googleCode.init(t)}))},onStep:function(t){this.step=t}}},L=O,T=(n("7627"),n("3899"),Object(d["a"])(L,o,s,!1,null,"79450930",null));e["default"]=T.exports},bfec:function(t,e,n){"use strict";n("87e0")},c6f3:function(t,e,n){},d359:function(t,e,n){"use strict";n("c6f3")}}]);