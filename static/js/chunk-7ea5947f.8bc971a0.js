(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ea5947f"],{1488:function(t,e,i){"use strict";var n=i("8888"),s=i("4c2f"),o=i("4d20");t.exports=function(t){var e=n(this),i=o(e),a=arguments.length,r=s(a>1?arguments[1]:void 0,i),c=a>2?arguments[2]:void 0,l=void 0===c?i:s(c,i);while(l>r)e[r++]=t;return e}},"2ad0":function(t,e,i){},"4a08":function(t,e,i){"use strict";i("2ad0")},6526:function(t,e,i){var n=i("7278"),s=i("1488"),o=i("38d2");n({target:"Array",proto:!0},{fill:s}),o("fill")},"6b59":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("h3",[t._v("贪吃蛇")]),i("canvas",{attrs:{id:"canvas",width:"400",height:"400"}})])}],o=i("5530"),a=(i("bd12"),i("d0d8"),i("06ab"),i("740f"),i("6526"),{data:function(){return{ctx:null,interval:null,snakeData:[],count:0,pointList:[{x:36,y:18}],direction:"d",controll:null,controll2:null,speedCount:0,speed:8}},mounted:function(){var t=this,e=document.getElementById("canvas");this.ctx=e.getContext("2d");for(var i=[],n=0;n<2;n++)i.push({x:0+6*n,y:0,type:"right"});this.snakeData=i,console.log("snakeData",this.snakeData),this.setView(i),this.controll=new AbortController,this.controll2=new AbortController,window.addEventListener("keydown",(function(e){if("w"===e.key||"a"===e.key||"s"===e.key||"d"===e.key)switch(e.key){case"w":"s"!==t.direction&&(t.direction="w",t.speed=4);break;case"a":"d"!==t.direction&&(t.direction="a",t.speed=4);break;case"s":"w"!==t.direction&&(t.direction="s",t.speed=4);break;case"d":"a"!==t.direction&&(t.direction="d",t.speed=4);break;default:console.log("方向不合法或无效按键");break}}),{signal:this.controll.signal}),window.addEventListener("keyup",(function(e){"w"!==e.key&&"a"!==e.key&&"s"!==e.key&&"d"!==e.key||(t.speed=8)}),{signal:this.controll2.signal}),this.count=0,this.intervalFun()},beforeDestroy:function(){this.count=0,this.interval&&cancelAnimationFrame(this.interval),this.controll.abort(),this.controll2.abort()},methods:{intervalFun:function(){if(this.count++,this.speedCount++,this.count>5e3);else if(this.speedCount%this.speed===0){var t=canvas.clientWidth,e=canvas.clientHeight;this.ctx.clearRect(0,0,t,e),this.goForword(this.snakeData)}this.interval=requestAnimationFrame(this.intervalFun)},goForword:function(t){var e=Object(o["a"])({},t[t.length-1]);"d"===this.direction?e.x=Number(e.x)+6:"a"===this.direction?e.x=Number(e.x)-6:"w"===this.direction?e.y=Number(e.y)-6:"s"===this.direction&&(e.y=Number(e.y)+6),t.push(e);var i=!1;if(this.pointList=this.pointList.filter((function(t){return e.x===t.x&&e.y===t.y&&(i=!0),t.x!==e.x||t.y!==e.y})),i){var n=6*Math.floor(Math.random()*Math.round(400/6)),s=6*Math.floor(Math.random()*Math.round(400/6));this.pointList.push({x:n,y:s})}else t.shift();this.snakeData=t,this.setView(this.snakeData),this.setView(this.pointList)},setView:function(t){this.ctx.beginPath();for(var e=0;e<t.length;e++)this.ctx.rect(t[e].x,t[e].y,6,6);this.ctx.fill()}}}),r=a,c=(i("4a08"),i("2877")),l=Object(c["a"])(r,n,s,!1,null,"91c7a6f8",null);e["default"]=l.exports}}]);